<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Screen Time Rewards - Harper & Finley</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚è∞</text></svg>">
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    // Task definitions with minute values
    const TASKS = {
      chores: [
        { id: 'clean-room', name: 'Clean Room', minutes: 15, emoji: 'üõèÔ∏è' },
        { id: 'dishes', name: 'Do Dishes', minutes: 10, emoji: 'üçΩÔ∏è' },
        { id: 'laundry', name: 'Help with Laundry', minutes: 10, emoji: 'üëï' },
        { id: 'vacuum', name: 'Vacuum', minutes: 15, emoji: 'üßπ' },
        { id: 'pet-care', name: 'Feed/Care for Pets', minutes: 10, emoji: 'üêæ' },
        { id: 'tidy-up', name: 'Tidy Living Room', minutes: 10, emoji: 'üõãÔ∏è' },
      ],
      homework: [
        { id: 'homework', name: 'Finish Homework', minutes: 20, emoji: 'üìö' },
        { id: 'reading-15', name: '15 Min Reading', minutes: 10, emoji: 'üìñ' },
        { id: 'reading-30', name: '30 Min Reading', minutes: 20, emoji: 'üìñ' },
        { id: 'practice-instrument', name: 'Practice Instrument', minutes: 15, emoji: 'üéµ' },
        { id: 'math-practice', name: 'Extra Math Practice', minutes: 15, emoji: 'üî¢' },
      ],
      behavior: [
        { id: 'helped-sibling', name: 'Helped Sister', minutes: 10, emoji: 'üíï' },
        { id: 'followed-directions', name: 'Followed Directions Well', minutes: 10, emoji: '‚≠ê' },
        { id: 'kind-words', name: 'Used Kind Words', minutes: 5, emoji: 'üí¨' },
        { id: 'no-complaints', name: 'No Complaints Today', minutes: 15, emoji: 'üòä' },
        { id: 'extra-helpful', name: 'Extra Helpful', minutes: 10, emoji: 'üåü' },
      ],
    };

    const CHILDREN = [
      { id: 'harper', name: 'Harper', color: '#8B5CF6', bgColor: '#EDE9FE', emoji: 'üíú' },
      { id: 'finley', name: 'Finley', color: '#EC4899', bgColor: '#FCE7F3', emoji: 'üíñ' },
    ];

    // Local storage helpers
    const loadFromStorage = (key, defaultValue) => {
      try {
        const saved = localStorage.getItem(key);
        return saved ? JSON.parse(saved) : defaultValue;
      } catch {
        return defaultValue;
      }
    };

    const saveToStorage = (key, value) => {
      try {
        localStorage.setItem(key, JSON.stringify(value));
      } catch {}
    };

    function ScreenTimeRewards() {
      const [balances, setBalances] = useState(() => loadFromStorage('screentime_balances', { harper: 0, finley: 0 }));
      const [history, setHistory] = useState(() => {
        const saved = loadFromStorage('screentime_history', []);
        return saved.map(h => ({ ...h, timestamp: new Date(h.timestamp) }));
      });
      const [requests, setRequests] = useState(() => {
        const saved = loadFromStorage('screentime_requests', []);
        return saved.map(r => ({ ...r, timestamp: new Date(r.timestamp) }));
      });
      const [activeTab, setActiveTab] = useState('dashboard');
      const [selectedChild, setSelectedChild] = useState(null);
      const [showEarnModal, setShowEarnModal] = useState(false);
      const [showRequestModal, setShowRequestModal] = useState(false);
      const [requestMinutes, setRequestMinutes] = useState(30);
      const [requestActivity, setRequestActivity] = useState('');

      // Save to localStorage when data changes
      useEffect(() => { saveToStorage('screentime_balances', balances); }, [balances]);
      useEffect(() => { saveToStorage('screentime_history', history); }, [history]);
      useEffect(() => { saveToStorage('screentime_requests', requests); }, [requests]);

      const addMinutes = (childId, task) => {
        setBalances(prev => ({
          ...prev,
          [childId]: prev[childId] + task.minutes
        }));
        setHistory(prev => [{
          id: Date.now(),
          childId,
          type: 'earned',
          description: task.name,
          minutes: task.minutes,
          emoji: task.emoji,
          timestamp: new Date()
        }, ...prev]);
        setShowEarnModal(false);
        setSelectedChild(null);
      };

      const submitRequest = () => {
        if (!selectedChild || !requestActivity || requestMinutes <= 0) return;
        if (requestMinutes > balances[selectedChild.id]) {
          alert(`${selectedChild.name} doesn't have enough minutes!`);
          return;
        }
        setRequests(prev => [{
          id: Date.now(),
          childId: selectedChild.id,
          childName: selectedChild.name,
          minutes: requestMinutes,
          activity: requestActivity,
          status: 'pending',
          timestamp: new Date()
        }, ...prev]);
        setShowRequestModal(false);
        setSelectedChild(null);
        setRequestMinutes(30);
        setRequestActivity('');
      };

      const handleRequest = (requestId, approved) => {
        const request = requests.find(r => r.id === requestId);
        if (approved && request) {
          setBalances(prev => ({
            ...prev,
            [request.childId]: prev[request.childId] - request.minutes
          }));
          setHistory(prev => [{
            id: Date.now(),
            childId: request.childId,
            type: 'spent',
            description: `${request.activity}`,
            minutes: -request.minutes,
            emoji: 'üì±',
            timestamp: new Date()
          }, ...prev]);
        }
        setRequests(prev => prev.map(r =>
          r.id === requestId ? { ...r, status: approved ? 'approved' : 'denied' } : r
        ));
      };

      const formatTime = (minutes) => {
        if (minutes < 60) return `${minutes} min`;
        const hours = Math.floor(minutes / 60);
        const mins = minutes % 60;
        return mins > 0 ? `${hours}h ${mins}m` : `${hours}h`;
      };

      const pendingRequests = requests.filter(r => r.status === 'pending');

      return (
        <div style={{
          minHeight: '100vh',
          backgroundColor: '#F0F9FF',
          fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
        }}>
          {/* Header */}
          <div style={{
            background: 'linear-gradient(135deg, #667EEA 0%, #764BA2 100%)',
            padding: '20px',
            color: 'white',
            textAlign: 'center',
            boxShadow: '0 4px 15px rgba(0,0,0,0.1)'
          }}>
            <h1 style={{ margin: 0, fontSize: '28px', fontWeight: '700' }}>
              ‚è∞ Screen Time Rewards
            </h1>
            <p style={{ margin: '8px 0 0', opacity: 0.9, fontSize: '14px' }}>
              Earn minutes, request screen time!
            </p>
          </div>

          {/* Navigation Tabs */}
          <div style={{
            display: 'flex',
            backgroundColor: 'white',
            borderBottom: '2px solid #E5E7EB',
            position: 'sticky',
            top: 0,
            zIndex: 10
          }}>
            {[
              { id: 'dashboard', label: 'üè† Dashboard' },
              { id: 'requests', label: `üìã Requests ${pendingRequests.length > 0 ? `(${pendingRequests.length})` : ''}` },
              { id: 'history', label: 'üìú History' }
            ].map(tab => (
              <button
                key={tab.id}
                onClick={() => setActiveTab(tab.id)}
                style={{
                  flex: 1,
                  padding: '14px',
                  border: 'none',
                  backgroundColor: activeTab === tab.id ? '#EEF2FF' : 'white',
                  color: activeTab === tab.id ? '#4F46E5' : '#6B7280',
                  fontWeight: activeTab === tab.id ? '600' : '500',
                  fontSize: '14px',
                  cursor: 'pointer',
                  borderBottom: activeTab === tab.id ? '3px solid #4F46E5' : '3px solid transparent',
                  transition: 'all 0.2s'
                }}
              >
                {tab.label}
              </button>
            ))}
          </div>

          <div style={{ padding: '20px', maxWidth: '600px', margin: '0 auto' }}>
            {/* Dashboard Tab */}
            {activeTab === 'dashboard' && (
              <div>
                {/* Balance Cards */}
                {CHILDREN.map(child => (
                  <div
                    key={child.id}
                    style={{
                      backgroundColor: 'white',
                      borderRadius: '16px',
                      padding: '20px',
                      marginBottom: '16px',
                      boxShadow: '0 2px 10px rgba(0,0,0,0.06)',
                      border: `2px solid ${child.bgColor}`
                    }}
                  >
                    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '16px' }}>
                      <div style={{
                        width: '50px',
                        height: '50px',
                        borderRadius: '50%',
                        backgroundColor: child.bgColor,
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        fontSize: '24px',
                        marginRight: '14px'
                      }}>
                        {child.emoji}
                      </div>
                      <div style={{ flex: 1 }}>
                        <h2 style={{ margin: 0, color: child.color, fontSize: '20px' }}>{child.name}</h2>
                        <p style={{ margin: '4px 0 0', color: '#6B7280', fontSize: '13px' }}>Available balance</p>
                      </div>
                      <div style={{
                        backgroundColor: child.bgColor,
                        padding: '8px 16px',
                        borderRadius: '20px',
                        color: child.color,
                        fontWeight: '700',
                        fontSize: '18px'
                      }}>
                        {formatTime(balances[child.id])}
                      </div>
                    </div>

                    {/* Progress Bar */}
                    <div style={{
                      height: '12px',
                      backgroundColor: '#F3F4F6',
                      borderRadius: '6px',
                      overflow: 'hidden',
                      marginBottom: '16px'
                    }}>
                      <div style={{
                        height: '100%',
                        width: `${Math.min((balances[child.id] / 120) * 100, 100)}%`,
                        backgroundColor: child.color,
                        borderRadius: '6px',
                        transition: 'width 0.5s ease'
                      }} />
                    </div>

                    {/* Action Buttons */}
                    <div style={{ display: 'flex', gap: '10px' }}>
                      <button
                        onClick={() => { setSelectedChild(child); setShowEarnModal(true); }}
                        style={{
                          flex: 1,
                          padding: '12px',
                          backgroundColor: child.color,
                          color: 'white',
                          border: 'none',
                          borderRadius: '10px',
                          fontWeight: '600',
                          fontSize: '14px',
                          cursor: 'pointer',
                          transition: 'transform 0.1s, opacity 0.2s'
                        }}
                      >
                        ‚ú® Earn Minutes
                      </button>
                      <button
                        onClick={() => { setSelectedChild(child); setShowRequestModal(true); }}
                        style={{
                          flex: 1,
                          padding: '12px',
                          backgroundColor: 'white',
                          color: child.color,
                          border: `2px solid ${child.color}`,
                          borderRadius: '10px',
                          fontWeight: '600',
                          fontSize: '14px',
                          cursor: 'pointer',
                          transition: 'all 0.2s'
                        }}
                      >
                        üì± Request Time
                      </button>
                    </div>
                  </div>
                ))}

                {/* Quick Stats */}
                <div style={{
                  backgroundColor: 'white',
                  borderRadius: '16px',
                  padding: '16px',
                  marginTop: '8px',
                  boxShadow: '0 2px 10px rgba(0,0,0,0.06)'
                }}>
                  <h3 style={{ margin: '0 0 12px', color: '#374151', fontSize: '16px' }}>üìä Family Stats</h3>
                  <div style={{ display: 'flex', gap: '12px' }}>
                    <div style={{ flex: 1, textAlign: 'center', padding: '12px', backgroundColor: '#F0FDF4', borderRadius: '10px' }}>
                      <div style={{ fontSize: '24px', fontWeight: '700', color: '#16A34A' }}>
                        {formatTime(balances.harper + balances.finley)}
                      </div>
                      <div style={{ fontSize: '12px', color: '#6B7280', marginTop: '4px' }}>Total Earned</div>
                    </div>
                    <div style={{ flex: 1, textAlign: 'center', padding: '12px', backgroundColor: '#FEF3C7', borderRadius: '10px' }}>
                      <div style={{ fontSize: '24px', fontWeight: '700', color: '#D97706' }}>
                        {pendingRequests.length}
                      </div>
                      <div style={{ fontSize: '12px', color: '#6B7280', marginTop: '4px' }}>Pending Requests</div>
                    </div>
                  </div>
                </div>

                {/* Reset Button */}
                <button
                  onClick={() => {
                    if (confirm('Are you sure you want to reset all data? This cannot be undone.')) {
                      setBalances({ harper: 0, finley: 0 });
                      setHistory([]);
                      setRequests([]);
                    }
                  }}
                  style={{
                    width: '100%',
                    marginTop: '20px',
                    padding: '10px',
                    backgroundColor: 'transparent',
                    color: '#9CA3AF',
                    border: '1px dashed #D1D5DB',
                    borderRadius: '8px',
                    fontSize: '13px',
                    cursor: 'pointer'
                  }}
                >
                  üîÑ Reset All Data
                </button>
              </div>
            )}

            {/* Requests Tab */}
            {activeTab === 'requests' && (
              <div>
                <h2 style={{ margin: '0 0 16px', color: '#374151', fontSize: '18px' }}>
                  Pending Requests
                </h2>
                {pendingRequests.length === 0 ? (
                  <div style={{
                    backgroundColor: 'white',
                    borderRadius: '16px',
                    padding: '40px 20px',
                    textAlign: 'center',
                    color: '#9CA3AF'
                  }}>
                    <div style={{ fontSize: '48px', marginBottom: '12px' }}>‚úÖ</div>
                    <p>No pending requests!</p>
                  </div>
                ) : (
                  pendingRequests.map(request => {
                    const child = CHILDREN.find(c => c.id === request.childId);
                    return (
                      <div
                        key={request.id}
                        style={{
                          backgroundColor: 'white',
                          borderRadius: '16px',
                          padding: '16px',
                          marginBottom: '12px',
                          boxShadow: '0 2px 10px rgba(0,0,0,0.06)',
                          border: `2px solid ${child.bgColor}`
                        }}
                      >
                        <div style={{ display: 'flex', alignItems: 'center', marginBottom: '12px' }}>
                          <div style={{
                            width: '40px',
                            height: '40px',
                            borderRadius: '50%',
                            backgroundColor: child.bgColor,
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            fontSize: '20px',
                            marginRight: '12px'
                          }}>
                            {child.emoji}
                          </div>
                          <div style={{ flex: 1 }}>
                            <div style={{ fontWeight: '600', color: '#374151' }}>{request.childName}</div>
                            <div style={{ fontSize: '13px', color: '#6B7280' }}>
                              wants {request.minutes} min for {request.activity}
                            </div>
                          </div>
                        </div>
                        <div style={{ display: 'flex', gap: '10px' }}>
                          <button
                            onClick={() => handleRequest(request.id, true)}
                            style={{
                              flex: 1,
                              padding: '10px',
                              backgroundColor: '#10B981',
                              color: 'white',
                              border: 'none',
                              borderRadius: '8px',
                              fontWeight: '600',
                              cursor: 'pointer'
                            }}
                          >
                            ‚úì Approve
                          </button>
                          <button
                            onClick={() => handleRequest(request.id, false)}
                            style={{
                              flex: 1,
                              padding: '10px',
                              backgroundColor: '#EF4444',
                              color: 'white',
                              border: 'none',
                              borderRadius: '8px',
                              fontWeight: '600',
                              cursor: 'pointer'
                            }}
                          >
                            ‚úó Deny
                          </button>
                        </div>
                      </div>
                    );
                  })
                )}

                {/* Past Requests */}
                {requests.filter(r => r.status !== 'pending').length > 0 && (
                  <>
                    <h3 style={{ margin: '24px 0 12px', color: '#6B7280', fontSize: '14px' }}>Past Requests</h3>
                    {requests.filter(r => r.status !== 'pending').slice(0, 10).map(request => {
                      const child = CHILDREN.find(c => c.id === request.childId);
                      return (
                        <div
                          key={request.id}
                          style={{
                            backgroundColor: '#F9FAFB',
                            borderRadius: '12px',
                            padding: '12px 16px',
                            marginBottom: '8px',
                            display: 'flex',
                            alignItems: 'center',
                            opacity: 0.8
                          }}
                        >
                          <span style={{ marginRight: '10px' }}>{child.emoji}</span>
                          <span style={{ flex: 1, fontSize: '14px', color: '#6B7280' }}>
                            {request.childName} - {request.minutes}min {request.activity}
                          </span>
                          <span style={{
                            padding: '4px 10px',
                            borderRadius: '12px',
                            fontSize: '12px',
                            fontWeight: '600',
                            backgroundColor: request.status === 'approved' ? '#D1FAE5' : '#FEE2E2',
                            color: request.status === 'approved' ? '#059669' : '#DC2626'
                          }}>
                            {request.status === 'approved' ? '‚úì Approved' : '‚úó Denied'}
                          </span>
                        </div>
                      );
                    })}
                  </>
                )}
              </div>
            )}

            {/* History Tab */}
            {activeTab === 'history' && (
              <div>
                <h2 style={{ margin: '0 0 16px', color: '#374151', fontSize: '18px' }}>
                  Activity History
                </h2>
                {history.length === 0 ? (
                  <div style={{
                    backgroundColor: 'white',
                    borderRadius: '16px',
                    padding: '40px 20px',
                    textAlign: 'center',
                    color: '#9CA3AF'
                  }}>
                    <div style={{ fontSize: '48px', marginBottom: '12px' }}>üìù</div>
                    <p>No activity yet. Start earning minutes!</p>
                  </div>
                ) : (
                  history.slice(0, 50).map(entry => {
                    const child = CHILDREN.find(c => c.id === entry.childId);
                    return (
                      <div
                        key={entry.id}
                        style={{
                          backgroundColor: 'white',
                          borderRadius: '12px',
                          padding: '14px 16px',
                          marginBottom: '8px',
                          display: 'flex',
                          alignItems: 'center',
                          boxShadow: '0 1px 4px rgba(0,0,0,0.04)'
                        }}
                      >
                        <div style={{
                          width: '36px',
                          height: '36px',
                          borderRadius: '50%',
                          backgroundColor: entry.type === 'earned' ? '#D1FAE5' : '#FEE2E2',
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: 'center',
                          fontSize: '16px',
                          marginRight: '12px'
                        }}>
                          {entry.emoji}
                        </div>
                        <div style={{ flex: 1 }}>
                          <div style={{ fontWeight: '500', color: '#374151', fontSize: '14px' }}>
                            {entry.description}
                          </div>
                          <div style={{ fontSize: '12px', color: '#9CA3AF' }}>
                            {child.name} ‚Ä¢ {new Date(entry.timestamp).toLocaleString([], { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' })}
                          </div>
                        </div>
                        <div style={{
                          fontWeight: '600',
                          color: entry.type === 'earned' ? '#059669' : '#DC2626',
                          fontSize: '14px'
                        }}>
                          {entry.type === 'earned' ? '+' : ''}{entry.minutes} min
                        </div>
                      </div>
                    );
                  })
                )}
              </div>
            )}
          </div>

          {/* Earn Minutes Modal */}
          {showEarnModal && selectedChild && (
            <div style={{
              position: 'fixed',
              top: 0,
              left: 0,
              right: 0,
              bottom: 0,
              backgroundColor: 'rgba(0,0,0,0.5)',
              display: 'flex',
              alignItems: 'flex-end',
              justifyContent: 'center',
              zIndex: 100
            }} onClick={() => { setShowEarnModal(false); setSelectedChild(null); }}>
              <div style={{
                backgroundColor: 'white',
                borderRadius: '24px 24px 0 0',
                padding: '24px',
                width: '100%',
                maxWidth: '600px',
                maxHeight: '80vh',
                overflowY: 'auto'
              }} onClick={e => e.stopPropagation()}>
                <div style={{ textAlign: 'center', marginBottom: '20px' }}>
                  <h2 style={{ margin: 0, color: selectedChild.color }}>
                    ‚ú® Earn Minutes for {selectedChild.name}
                  </h2>
                </div>

                {Object.entries(TASKS).map(([category, tasks]) => (
                  <div key={category} style={{ marginBottom: '20px' }}>
                    <h3 style={{
                      margin: '0 0 12px',
                      color: '#6B7280',
                      fontSize: '13px',
                      textTransform: 'uppercase',
                      letterSpacing: '0.5px'
                    }}>
                      {category === 'chores' ? 'üßπ Chores' : category === 'homework' ? 'üìö Homework & Learning' : '‚≠ê Good Behavior'}
                    </h3>
                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>
                      {tasks.map(task => (
                        <button
                          key={task.id}
                          onClick={() => addMinutes(selectedChild.id, task)}
                          style={{
                            padding: '10px 14px',
                            backgroundColor: selectedChild.bgColor,
                            border: `1px solid ${selectedChild.color}40`,
                            borderRadius: '10px',
                            cursor: 'pointer',
                            display: 'flex',
                            alignItems: 'center',
                            gap: '6px',
                            transition: 'all 0.2s'
                          }}
                        >
                          <span>{task.emoji}</span>
                          <span style={{ fontWeight: '500', fontSize: '14px' }}>{task.name}</span>
                          <span style={{
                            backgroundColor: 'rgba(0,0,0,0.1)',
                            padding: '2px 8px',
                            borderRadius: '10px',
                            fontSize: '12px',
                            fontWeight: '600'
                          }}>
                            +{task.minutes}
                          </span>
                        </button>
                      ))}
                    </div>
                  </div>
                ))}

                <button
                  onClick={() => { setShowEarnModal(false); setSelectedChild(null); }}
                  style={{
                    width: '100%',
                    padding: '14px',
                    backgroundColor: '#F3F4F6',
                    border: 'none',
                    borderRadius: '12px',
                    fontWeight: '600',
                    color: '#6B7280',
                    cursor: 'pointer',
                    marginTop: '8px'
                  }}
                >
                  Cancel
                </button>
              </div>
            </div>
          )}

          {/* Request Time Modal */}
          {showRequestModal && selectedChild && (
            <div style={{
              position: 'fixed',
              top: 0,
              left: 0,
              right: 0,
              bottom: 0,
              backgroundColor: 'rgba(0,0,0,0.5)',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              zIndex: 100
            }} onClick={() => { setShowRequestModal(false); setSelectedChild(null); }}>
              <div style={{
                backgroundColor: 'white',
                borderRadius: '20px',
                padding: '24px',
                width: '90%',
                maxWidth: '400px'
              }} onClick={e => e.stopPropagation()}>
                <h2 style={{ margin: '0 0 8px', color: selectedChild.color, textAlign: 'center' }}>
                  üì± Request Screen Time
                </h2>
                <p style={{ margin: '0 0 20px', color: '#6B7280', textAlign: 'center', fontSize: '14px' }}>
                  {selectedChild.name} has {formatTime(balances[selectedChild.id])} available
                </p>

                <div style={{ marginBottom: '16px' }}>
                  <label style={{ display: 'block', marginBottom: '6px', fontWeight: '500', color: '#374151', fontSize: '14px' }}>
                    How many minutes?
                  </label>
                  <div style={{ display: 'flex', gap: '8px' }}>
                    {[15, 30, 45, 60].map(mins => (
                      <button
                        key={mins}
                        onClick={() => setRequestMinutes(mins)}
                        style={{
                          flex: 1,
                          padding: '10px',
                          backgroundColor: requestMinutes === mins ? selectedChild.color : '#F3F4F6',
                          color: requestMinutes === mins ? 'white' : '#374151',
                          border: 'none',
                          borderRadius: '8px',
                          fontWeight: '600',
                          cursor: 'pointer',
                          fontSize: '14px'
                        }}
                      >
                        {mins}
                      </button>
                    ))}
                  </div>
                </div>

                <div style={{ marginBottom: '20px' }}>
                  <label style={{ display: 'block', marginBottom: '6px', fontWeight: '500', color: '#374151', fontSize: '14px' }}>
                    What for?
                  </label>
                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>
                    {['iPad', 'TV', 'Video Games', 'Computer', 'Phone'].map(activity => (
                      <button
                        key={activity}
                        onClick={() => setRequestActivity(activity)}
                        style={{
                          padding: '8px 14px',
                          backgroundColor: requestActivity === activity ? selectedChild.color : '#F3F4F6',
                          color: requestActivity === activity ? 'white' : '#374151',
                          border: 'none',
                          borderRadius: '8px',
                          fontWeight: '500',
                          cursor: 'pointer',
                          fontSize: '14px'
                        }}
                      >
                        {activity}
                      </button>
                    ))}
                  </div>
                </div>

                <div style={{ display: 'flex', gap: '10px' }}>
                  <button
                    onClick={() => { setShowRequestModal(false); setSelectedChild(null); }}
                    style={{
                      flex: 1,
                      padding: '14px',
                      backgroundColor: '#F3F4F6',
                      border: 'none',
                      borderRadius: '12px',
                      fontWeight: '600',
                      color: '#6B7280',
                      cursor: 'pointer'
                    }}
                  >
                    Cancel
                  </button>
                  <button
                    onClick={submitRequest}
                    disabled={!requestActivity || requestMinutes > balances[selectedChild.id]}
                    style={{
                      flex: 1,
                      padding: '14px',
                      backgroundColor: !requestActivity || requestMinutes > balances[selectedChild.id] ? '#D1D5DB' : selectedChild.color,
                      border: 'none',
                      borderRadius: '12px',
                      fontWeight: '600',
                      color: 'white',
                      cursor: !requestActivity || requestMinutes > balances[selectedChild.id] ? 'not-allowed' : 'pointer'
                    }}
                  >
                    Submit Request
                  </button>
                </div>
              </div>
            </div>
          )}
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<ScreenTimeRewards />);
  </script>
</body>
</html>
